{"error":{"errorCode":"AUTH_FAILED","message":"Invalid phone number, password, or role","name":"AuthenticationError","stack":"AuthenticationError: Invalid phone number, password, or role\n    at D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\routes\\auth.js:945:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":401},"level":"error","message":"Login error","req":{"_body":true,"_consuming":true,"_dumped":false,"_events":{},"_eventsCount":1,"_parsedUrl":{"_raw":"/login","auth":null,"hash":null,"host":null,"hostname":null,"href":"/login","path":"/login","pathname":"/login","port":null,"protocol":null,"query":null,"search":null,"slashes":null},"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_remoteAddress":"192.168.1.38","_startAt":[270522,579917000],"_startTime":"2025-12-10T11:34:20.176Z","aborted":false,"baseUrl":"/api/auth","body":{"password":"123456","phone":"9911112211","role":"user"},"client":{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"end":[null,null],"error":[null,null]},"_eventsCount":8,"_hadError":false,"_host":null,"_httpMessage":{"_closed":false,"_contentLength":null,"_defaultKeepAlive":true,"_events":{"finish":[null,null,null]},"_eventsCount":3,"_expect_continue":false,"_hasBody":true,"_header":null,"_headerSent":false,"_keepAliveTimeout":5000,"_last":false,"_maxRequestsPerSocket":0,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_sent100":false,"_trailer":"","chunkedEncoding":false,"destroyed":false,"finished":false,"locals":{},"maxRequestsOnConnectionReached":false,"outputData":[],"outputSize":0,"req":"[Circular]","sendDate":true,"shouldKeepAlive":true,"strictContentLength":false,"useChunkedEncodingByDefault":true,"writable":true},"_parent":null,"_paused":false,"_peername":{"address":"192.168.1.38","family":"IPv4","port":38348},"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":{"_connectionKey":"4:0.0.0.0:5000","_connections":1,"_events":{"listening":[null,null]},"_eventsCount":5,"_handle":{"reading":false},"_listeningId":2,"_unref":false,"_usingWorkers":false,"_workers":[],"allowHalfOpen":true,"connectionsCheckingInterval":30000,"headersTimeout":60000,"highWaterMark":16384,"httpAllowHalfOpen":false,"keepAlive":false,"keepAliveInitialDelay":0,"keepAliveTimeout":5000,"maxHeadersCount":null,"maxRequestsPerSocket":0,"noDelay":true,"pauseOnConnect":false,"rejectNonStandardBodyWrites":false,"requestTimeout":300000,"requireHostHeader":true,"timeout":0},"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":true,"connecting":false,"parser":{"0":null,"_consumed":true,"_headers":[],"_url":"","incoming":"[Circular]","joinDuplicateHeaders":null,"maxHeaderPairs":2000,"outgoing":null,"socket":"[Circular]"},"server":{"_connectionKey":"4:0.0.0.0:5000","_connections":1,"_events":{"listening":[null,null]},"_eventsCount":5,"_handle":{"reading":false},"_listeningId":2,"_unref":false,"_usingWorkers":false,"_workers":[],"allowHalfOpen":true,"connectionsCheckingInterval":30000,"headersTimeout":60000,"highWaterMark":16384,"httpAllowHalfOpen":false,"keepAlive":false,"keepAliveInitialDelay":0,"keepAliveTimeout":5000,"maxHeadersCount":null,"maxRequestsPerSocket":0,"noDelay":true,"pauseOnConnect":false,"rejectNonStandardBodyWrites":false,"requestTimeout":300000,"requireHostHeader":true,"timeout":0},"timeout":30000},"complete":true,"express-validator#contexts":[{"_errors":[],"bail":false,"dataMap":{},"fields":["phone"],"locations":["body"],"optional":false,"stack":[{"message":"Please enter a valid 10-digit mobile number","negated":false}],"visibility":{"type":"visible"}},{"_errors":[],"bail":false,"dataMap":{},"fields":["password"],"locations":["body"],"optional":false,"stack":[{"message":"Password is required","negated":true,"options":[null]}],"visibility":{"type":"visible"}},{"_errors":[],"bail":false,"dataMap":{},"fields":["role"],"locations":["body"],"optional":false,"stack":[{"message":"Role must be either user, provider, or admin","negated":false,"options":[["user","provider","admin"]]}],"visibility":{"type":"visible"}}],"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"joinDuplicateHeaders":null,"method":"POST","originalUrl":"/api/auth/login","params":{},"query":{},"rateLimit":{"limit":10,"remaining":9,"resetTime":"2025-12-10T11:49:20.178Z","used":1},"rawHeaders":["Content-Type","application/json","Content-Length","56","Host","192.168.1.36:5000","Connection","Keep-Alive","Accept-Encoding","gzip","User-Agent","okhttp/4.12.0"],"rawTrailers":[],"res":{"_closed":false,"_contentLength":null,"_defaultKeepAlive":true,"_events":{"finish":[null,null,null]},"_eventsCount":3,"_expect_continue":false,"_hasBody":true,"_header":null,"_headerSent":false,"_keepAliveTimeout":5000,"_last":false,"_maxRequestsPerSocket":0,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_sent100":false,"_trailer":"","chunkedEncoding":false,"destroyed":false,"finished":false,"locals":{},"maxRequestsOnConnectionReached":false,"outputData":[],"outputSize":0,"req":"[Circular]","sendDate":true,"shouldKeepAlive":true,"strictContentLength":false,"useChunkedEncodingByDefault":true,"writable":true},"route":{"methods":{"post":true},"path":"/login","stack":[{"keys":[],"method":"post","name":"<anonymous>","regexp":{"fast_slash":false,"fast_star":false}},{"keys":[],"method":"post","name":"middleware","regexp":{"fast_slash":false,"fast_star":false}},{"keys":[],"method":"post","name":"middleware","regexp":{"fast_slash":false,"fast_star":false}},{"keys":[],"method":"post","name":"middleware","regexp":{"fast_slash":false,"fast_star":false}},{"keys":[],"method":"post","name":"handleValidationErrors","regexp":{"fast_slash":false,"fast_star":false}},{"keys":[],"method":"post","name":"<anonymous>","regexp":{"fast_slash":false,"fast_star":false}}]},"socket":{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"end":[null,null],"error":[null,null]},"_eventsCount":8,"_hadError":false,"_host":null,"_httpMessage":{"_closed":false,"_contentLength":null,"_defaultKeepAlive":true,"_events":{"finish":[null,null,null]},"_eventsCount":3,"_expect_continue":false,"_hasBody":true,"_header":null,"_headerSent":false,"_keepAliveTimeout":5000,"_last":false,"_maxRequestsPerSocket":0,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_sent100":false,"_trailer":"","chunkedEncoding":false,"destroyed":false,"finished":false,"locals":{},"maxRequestsOnConnectionReached":false,"outputData":[],"outputSize":0,"req":"[Circular]","sendDate":true,"shouldKeepAlive":true,"strictContentLength":false,"useChunkedEncodingByDefault":true,"writable":true},"_parent":null,"_paused":false,"_peername":{"address":"192.168.1.38","family":"IPv4","port":38348},"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":{"_connectionKey":"4:0.0.0.0:5000","_connections":1,"_events":{"listening":[null,null]},"_eventsCount":5,"_handle":{"reading":false},"_listeningId":2,"_unref":false,"_usingWorkers":false,"_workers":[],"allowHalfOpen":true,"connectionsCheckingInterval":30000,"headersTimeout":60000,"highWaterMark":16384,"httpAllowHalfOpen":false,"keepAlive":false,"keepAliveInitialDelay":0,"keepAliveTimeout":5000,"maxHeadersCount":null,"maxRequestsPerSocket":0,"noDelay":true,"pauseOnConnect":false,"rejectNonStandardBodyWrites":false,"requestTimeout":300000,"requireHostHeader":true,"timeout":0},"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":true,"connecting":false,"parser":{"0":null,"_consumed":true,"_headers":[],"_url":"","incoming":"[Circular]","joinDuplicateHeaders":null,"maxHeaderPairs":2000,"outgoing":null,"socket":"[Circular]"},"server":{"_connectionKey":"4:0.0.0.0:5000","_connections":1,"_events":{"listening":[null,null]},"_eventsCount":5,"_handle":{"reading":false},"_listeningId":2,"_unref":false,"_usingWorkers":false,"_workers":[],"allowHalfOpen":true,"connectionsCheckingInterval":30000,"headersTimeout":60000,"highWaterMark":16384,"httpAllowHalfOpen":false,"keepAlive":false,"keepAliveInitialDelay":0,"keepAliveTimeout":5000,"maxHeadersCount":null,"maxRequestsPerSocket":0,"noDelay":true,"pauseOnConnect":false,"rejectNonStandardBodyWrites":false,"requestTimeout":300000,"requireHostHeader":true,"timeout":0},"timeout":30000},"statusCode":null,"statusMessage":null,"upgrade":false,"url":"/login"},"requestContext":{"headers":{"content-length":"56","content-type":"application/json","user-agent":"okhttp/4.12.0"},"ip":"192.168.1.38","method":"POST","params":{},"path":"/login","query":{},"url":"/login"},"service":"buildxpert-api","stack":"AuthenticationError: Invalid phone number, password, or role\n    at D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\routes\\auth.js:945:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-10 17:04:21"}
{"error":{"errorCode":"AUTH_FAILED","message":"Invalid phone number, password, or role","name":"AuthenticationError","stack":"AuthenticationError: Invalid phone number, password, or role\n    at D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\routes\\auth.js:945:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":401},"level":"error","message":"Login error","req":{"_body":true,"_consuming":true,"_dumped":false,"_events":{},"_eventsCount":1,"_parsedUrl":{"_raw":"/login","auth":null,"hash":null,"host":null,"hostname":null,"href":"/login","path":"/login","pathname":"/login","port":null,"protocol":null,"query":null,"search":null,"slashes":null},"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_remoteAddress":"192.168.1.33","_startAt":[270720,393794300],"_startTime":"2025-12-10T11:37:37.990Z","aborted":false,"baseUrl":"/api/auth","body":{"password":"123456","phone":"9900001100","role":"provider"},"client":{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"end":[null,null],"error":[null,null]},"_eventsCount":8,"_hadError":false,"_host":null,"_httpMessage":{"_closed":false,"_contentLength":null,"_defaultKeepAlive":true,"_events":{"finish":[null,null,null]},"_eventsCount":3,"_expect_continue":false,"_hasBody":true,"_header":null,"_headerSent":false,"_keepAliveTimeout":5000,"_last":false,"_maxRequestsPerSocket":0,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_sent100":false,"_trailer":"","chunkedEncoding":false,"destroyed":false,"finished":false,"locals":{},"maxRequestsOnConnectionReached":false,"outputData":[],"outputSize":0,"req":"[Circular]","sendDate":true,"shouldKeepAlive":true,"strictContentLength":false,"useChunkedEncodingByDefault":true,"writable":true},"_parent":null,"_paused":false,"_peername":{"address":"192.168.1.33","family":"IPv4","port":39330},"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":{"_connectionKey":"4:0.0.0.0:5000","_connections":1,"_events":{"listening":[null,null]},"_eventsCount":5,"_handle":{"reading":false},"_listeningId":2,"_unref":false,"_usingWorkers":false,"_workers":[],"allowHalfOpen":true,"connectionsCheckingInterval":30000,"headersTimeout":60000,"highWaterMark":16384,"httpAllowHalfOpen":false,"keepAlive":false,"keepAliveInitialDelay":0,"keepAliveTimeout":5000,"maxHeadersCount":null,"maxRequestsPerSocket":0,"noDelay":true,"pauseOnConnect":false,"rejectNonStandardBodyWrites":false,"requestTimeout":300000,"requireHostHeader":true,"timeout":0},"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":true,"connecting":false,"parser":{"0":null,"_consumed":true,"_headers":[],"_url":"","incoming":"[Circular]","joinDuplicateHeaders":null,"maxHeaderPairs":2000,"outgoing":null,"socket":"[Circular]"},"server":{"_connectionKey":"4:0.0.0.0:5000","_connections":1,"_events":{"listening":[null,null]},"_eventsCount":5,"_handle":{"reading":false},"_listeningId":2,"_unref":false,"_usingWorkers":false,"_workers":[],"allowHalfOpen":true,"connectionsCheckingInterval":30000,"headersTimeout":60000,"highWaterMark":16384,"httpAllowHalfOpen":false,"keepAlive":false,"keepAliveInitialDelay":0,"keepAliveTimeout":5000,"maxHeadersCount":null,"maxRequestsPerSocket":0,"noDelay":true,"pauseOnConnect":false,"rejectNonStandardBodyWrites":false,"requestTimeout":300000,"requireHostHeader":true,"timeout":0},"timeout":30000},"complete":true,"express-validator#contexts":[{"_errors":[],"bail":false,"dataMap":{},"fields":["phone"],"locations":["body"],"optional":false,"stack":[{"message":"Please enter a valid 10-digit mobile number","negated":false}],"visibility":{"type":"visible"}},{"_errors":[],"bail":false,"dataMap":{},"fields":["password"],"locations":["body"],"optional":false,"stack":[{"message":"Password is required","negated":true,"options":[null]}],"visibility":{"type":"visible"}},{"_errors":[],"bail":false,"dataMap":{},"fields":["role"],"locations":["body"],"optional":false,"stack":[{"message":"Role must be either user, provider, or admin","negated":false,"options":[["user","provider","admin"]]}],"visibility":{"type":"visible"}}],"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"joinDuplicateHeaders":null,"method":"POST","originalUrl":"/api/auth/login","params":{},"query":{},"rateLimit":{"limit":10,"remaining":9,"resetTime":"2025-12-10T11:52:37.992Z","used":1},"rawHeaders":["Content-Type","application/json","Content-Length","60","Host","192.168.1.36:5000","Connection","Keep-Alive","Accept-Encoding","gzip","User-Agent","okhttp/4.12.0"],"rawTrailers":[],"res":{"_closed":false,"_contentLength":null,"_defaultKeepAlive":true,"_events":{"finish":[null,null,null]},"_eventsCount":3,"_expect_continue":false,"_hasBody":true,"_header":null,"_headerSent":false,"_keepAliveTimeout":5000,"_last":false,"_maxRequestsPerSocket":0,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_sent100":false,"_trailer":"","chunkedEncoding":false,"destroyed":false,"finished":false,"locals":{},"maxRequestsOnConnectionReached":false,"outputData":[],"outputSize":0,"req":"[Circular]","sendDate":true,"shouldKeepAlive":true,"strictContentLength":false,"useChunkedEncodingByDefault":true,"writable":true},"route":{"methods":{"post":true},"path":"/login","stack":[{"keys":[],"method":"post","name":"<anonymous>","regexp":{"fast_slash":false,"fast_star":false}},{"keys":[],"method":"post","name":"middleware","regexp":{"fast_slash":false,"fast_star":false}},{"keys":[],"method":"post","name":"middleware","regexp":{"fast_slash":false,"fast_star":false}},{"keys":[],"method":"post","name":"middleware","regexp":{"fast_slash":false,"fast_star":false}},{"keys":[],"method":"post","name":"handleValidationErrors","regexp":{"fast_slash":false,"fast_star":false}},{"keys":[],"method":"post","name":"<anonymous>","regexp":{"fast_slash":false,"fast_star":false}}]},"socket":{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"end":[null,null],"error":[null,null]},"_eventsCount":8,"_hadError":false,"_host":null,"_httpMessage":{"_closed":false,"_contentLength":null,"_defaultKeepAlive":true,"_events":{"finish":[null,null,null]},"_eventsCount":3,"_expect_continue":false,"_hasBody":true,"_header":null,"_headerSent":false,"_keepAliveTimeout":5000,"_last":false,"_maxRequestsPerSocket":0,"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_sent100":false,"_trailer":"","chunkedEncoding":false,"destroyed":false,"finished":false,"locals":{},"maxRequestsOnConnectionReached":false,"outputData":[],"outputSize":0,"req":"[Circular]","sendDate":true,"shouldKeepAlive":true,"strictContentLength":false,"useChunkedEncodingByDefault":true,"writable":true},"_parent":null,"_paused":false,"_peername":{"address":"192.168.1.33","family":"IPv4","port":39330},"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":{"_connectionKey":"4:0.0.0.0:5000","_connections":1,"_events":{"listening":[null,null]},"_eventsCount":5,"_handle":{"reading":false},"_listeningId":2,"_unref":false,"_usingWorkers":false,"_workers":[],"allowHalfOpen":true,"connectionsCheckingInterval":30000,"headersTimeout":60000,"highWaterMark":16384,"httpAllowHalfOpen":false,"keepAlive":false,"keepAliveInitialDelay":0,"keepAliveTimeout":5000,"maxHeadersCount":null,"maxRequestsPerSocket":0,"noDelay":true,"pauseOnConnect":false,"rejectNonStandardBodyWrites":false,"requestTimeout":300000,"requireHostHeader":true,"timeout":0},"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":true,"connecting":false,"parser":{"0":null,"_consumed":true,"_headers":[],"_url":"","incoming":"[Circular]","joinDuplicateHeaders":null,"maxHeaderPairs":2000,"outgoing":null,"socket":"[Circular]"},"server":{"_connectionKey":"4:0.0.0.0:5000","_connections":1,"_events":{"listening":[null,null]},"_eventsCount":5,"_handle":{"reading":false},"_listeningId":2,"_unref":false,"_usingWorkers":false,"_workers":[],"allowHalfOpen":true,"connectionsCheckingInterval":30000,"headersTimeout":60000,"highWaterMark":16384,"httpAllowHalfOpen":false,"keepAlive":false,"keepAliveInitialDelay":0,"keepAliveTimeout":5000,"maxHeadersCount":null,"maxRequestsPerSocket":0,"noDelay":true,"pauseOnConnect":false,"rejectNonStandardBodyWrites":false,"requestTimeout":300000,"requireHostHeader":true,"timeout":0},"timeout":30000},"statusCode":null,"statusMessage":null,"upgrade":false,"url":"/login"},"requestContext":{"headers":{"content-length":"60","content-type":"application/json","user-agent":"okhttp/4.12.0"},"ip":"192.168.1.33","method":"POST","params":{},"path":"/login","query":{},"url":"/login"},"service":"buildxpert-api","stack":"AuthenticationError: Invalid phone number, password, or role\n    at D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\routes\\auth.js:945:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-10 17:07:39"}
{"error":"Failed to upload image to Cloudinary: Cannot find module 'sharp'\nRequire stack:\n- D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\utils\\imageOptimization.js\n- D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\utils\\cloudinary.js\n- D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\routes\\auth.js\n- D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\server.js","level":"error","message":"Profile picture upload error","service":"buildxpert-api","timestamp":"2025-12-10 17:12:46"}
{"error":"Failed to upload image to Cloudinary: Cannot find module 'sharp'\nRequire stack:\n- D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\utils\\imageOptimization.js\n- D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\utils\\cloudinary.js\n- D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\routes\\auth.js\n- D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\server.js","level":"error","message":"Profile picture upload error","service":"buildxpert-api","timestamp":"2025-12-10 17:32:56"}
{"error":"Failed to upload image to Cloudinary: Cannot find module 'sharp'\nRequire stack:\n- D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\utils\\imageOptimization.js\n- D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\utils\\cloudinary.js\n- D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\routes\\auth.js\n- D:\\gebin changes buldexpert\\BuildexpertAkashgebin\\backend\\server.js","level":"error","message":"Profile picture upload error","service":"buildxpert-api","timestamp":"2025-12-10 17:36:03"}
