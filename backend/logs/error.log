{"level":"error","message":"Client has encountered a connection error and is not queryable","originalError":"Connection terminated unexpectedly","service":"buildxpert-api","timestamp":"2025-11-29 10:28:31"}
{"level":"error","message":"Client has encountered a connection error and is not queryable","originalError":"Connection terminated unexpectedly","service":"buildxpert-api","timestamp":"2025-11-29 10:37:11"}
{"attempts":3,"duration":20958,"error":{"message":"Connection terminated due to connection timeout","name":"Error","stack":"Error: Connection terminated due to connection timeout\n    at C:\\BuildexpertAkashgebin\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\BuildexpertAkashgebin\\backend\\database\\connection.js:147:19)\n    at async getRows (C:\\BuildexpertAkashgebin\\backend\\database\\connection.js:307:18)\n    at async PushNotificationService.processScheduledNotifications (C:\\BuildexpertAkashgebin\\backend\\utils\\pushNotifications.js:869:38)\n    at async C:\\BuildexpertAkashgebin\\backend\\utils\\pushNotifications.js:847:7\n    at async Timeout._onTimeout (C:\\BuildexpertAkashgebin\\backend\\node_modules\\node-cron\\dist\\cjs\\scheduler\\runner.js:70:44)"},"failureCategory":"resilience","level":"error","message":"Connection terminated due to connection timeout","paramsCount":0,"queryPreview":"\n        SELECT * FROM scheduled_notifications\n        WHERE scheduled_time <= NOW() AND sent = false\n        ORDER BY s","service":"buildxpert-api","stack":"Error: Connection terminated due to connection timeout\n    at C:\\BuildexpertAkashgebin\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\BuildexpertAkashgebin\\backend\\database\\connection.js:147:19)\n    at async getRows (C:\\BuildexpertAkashgebin\\backend\\database\\connection.js:307:18)\n    at async PushNotificationService.processScheduledNotifications (C:\\BuildexpertAkashgebin\\backend\\utils\\pushNotifications.js:869:38)\n    at async C:\\BuildexpertAkashgebin\\backend\\utils\\pushNotifications.js:847:7\n    at async Timeout._onTimeout (C:\\BuildexpertAkashgebin\\backend\\node_modules\\node-cron\\dist\\cjs\\scheduler\\runner.js:70:44)","timestamp":"2025-11-29 10:37:20"}
{"attempts":3,"code":"ENOTFOUND","duration":1861,"error":{"code":"ENOTFOUND","message":"getaddrinfo ENOTFOUND dpg-d44orqjipnbc73aob2lg-a.oregon-postgres.render.com","name":"Error","stack":"Error: getaddrinfo ENOTFOUND dpg-d44orqjipnbc73aob2lg-a.oregon-postgres.render.com\n    at C:\\BuildexpertAkashgebin\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\BuildexpertAkashgebin\\backend\\database\\connection.js:147:19)\n    at async getRows (C:\\BuildexpertAkashgebin\\backend\\database\\connection.js:307:18)\n    at async PushNotificationService.processMessageQueue (C:\\BuildexpertAkashgebin\\backend\\utils\\pushNotifications.js:417:28)\n    at async C:\\BuildexpertAkashgebin\\backend\\utils\\pushNotifications.js:848:7\n    at async Timeout._onTimeout (C:\\BuildexpertAkashgebin\\backend\\node_modules\\node-cron\\dist\\cjs\\scheduler\\runner.js:70:44)"},"failureCategory":"resilience","level":"error","message":"getaddrinfo ENOTFOUND dpg-d44orqjipnbc73aob2lg-a.oregon-postgres.render.com","paramsCount":0,"queryPreview":"\n          SELECT \n            id,\n            user_id,\n            push_token,\n            notification_data,\n         ","service":"buildxpert-api","stack":"Error: getaddrinfo ENOTFOUND dpg-d44orqjipnbc73aob2lg-a.oregon-postgres.render.com\n    at C:\\BuildexpertAkashgebin\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\BuildexpertAkashgebin\\backend\\database\\connection.js:147:19)\n    at async getRows (C:\\BuildexpertAkashgebin\\backend\\database\\connection.js:307:18)\n    at async PushNotificationService.processMessageQueue (C:\\BuildexpertAkashgebin\\backend\\utils\\pushNotifications.js:417:28)\n    at async C:\\BuildexpertAkashgebin\\backend\\utils\\pushNotifications.js:848:7\n    at async Timeout._onTimeout (C:\\BuildexpertAkashgebin\\backend\\node_modules\\node-cron\\dist\\cjs\\scheduler\\runner.js:70:44)","timestamp":"2025-11-29 10:37:22"}
{"level":"error","message":"Client has encountered a connection error and is not queryable","originalError":"Connection terminated unexpectedly","service":"buildxpert-api","timestamp":"2025-11-29 10:42:28"}
{"level":"error","message":"Client has encountered a connection error and is not queryable","originalError":"Connection terminated unexpectedly","service":"buildxpert-api","timestamp":"2025-11-29 11:06:01"}
{"level":"error","message":"Client has encountered a connection error and is not queryable","originalError":"Connection terminated unexpectedly","service":"buildxpert-api","timestamp":"2025-11-29 11:25:40"}
{"level":"error","message":"Client has encountered a connection error and is not queryable","originalError":"Connection terminated unexpectedly","service":"buildxpert-api","timestamp":"2025-11-29 11:48:14"}
{"error":"Refresh token not found, expired, or revoked","ipAddress":"192.168.0.102","level":"error","message":"Refresh token error","service":"buildxpert-api","timestamp":"2025-11-29 11:57:50"}
{"attempts":3,"duration":45095,"error":{"message":"Connection terminated due to connection timeout","name":"Error","stack":"Error: Connection terminated due to connection timeout\n    at C:\\BuildexpertAkashgebin\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\BuildexpertAkashgebin\\backend\\database\\connection.js:147:19)\n    at async getRows (C:\\BuildexpertAkashgebin\\backend\\database\\connection.js:307:18)\n    at async PushNotificationService.processMessageQueue (C:\\BuildexpertAkashgebin\\backend\\utils\\pushNotifications.js:417:28)\n    at async C:\\BuildexpertAkashgebin\\backend\\utils\\pushNotifications.js:848:7\n    at async Timeout._onTimeout (C:\\BuildexpertAkashgebin\\backend\\node_modules\\node-cron\\dist\\cjs\\scheduler\\runner.js:70:44)"},"failureCategory":"resilience","level":"error","message":"Connection terminated due to connection timeout","paramsCount":0,"queryPreview":"\n          SELECT \n            id,\n            user_id,\n            push_token,\n            notification_data,\n         ","service":"buildxpert-api","stack":"Error: Connection terminated due to connection timeout\n    at C:\\BuildexpertAkashgebin\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\BuildexpertAkashgebin\\backend\\database\\connection.js:147:19)\n    at async getRows (C:\\BuildexpertAkashgebin\\backend\\database\\connection.js:307:18)\n    at async PushNotificationService.processMessageQueue (C:\\BuildexpertAkashgebin\\backend\\utils\\pushNotifications.js:417:28)\n    at async C:\\BuildexpertAkashgebin\\backend\\utils\\pushNotifications.js:848:7\n    at async Timeout._onTimeout (C:\\BuildexpertAkashgebin\\backend\\node_modules\\node-cron\\dist\\cjs\\scheduler\\runner.js:70:44)","timestamp":"2025-11-29 12:01:54"}
{"level":"error","message":"Client has encountered a connection error and is not queryable","originalError":"Connection terminated unexpectedly","service":"buildxpert-api","timestamp":"2025-11-29 12:10:12"}
